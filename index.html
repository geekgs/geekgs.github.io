<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
</head>
<title>1jio</title>
<script>
function exit(){
	alert("退出啦");
	var isLppzApp = false
	var ua = navigator.userAgent;
    	var isWeixin = !!/MicroMessenger/i.test(ua);
	var isAplipay = !!/AlipayClient/i.test(ua);
	var uaApp = ua ? ua.match(/BeStore/i) : '' // match方法返回的是对象
	var uaAndroid = /android/i.test(ua) // test返回的是true/false
	var uaIos = /iphone|ipad|ipod/i.test(ua)
	if (uaApp.toString() === 'bestore') { // 必须将match返回的对象转成字符串
	isLppzApp = true
	} else {
	isLppzApp = false

  //判断是否是微信访问
  if(isWeixin){
    alert("这是微信");
	window.WeixinJSBridge.call('closeWindow')
  }else if(isAplipay){
    alert("这是支付宝");
	window.AlipayJSBridge.call('closeWebview')	
  }else if (isLppzApp && uaAndroid) {
	  alert("安卓");
	window.obj.closePageLppzRequest('') // 安卓app
 } else if (isLppzApp && uaIos) {
	 alert("ios");
	window.webkit.messageHandlers.closePageLppzRequest.postMessage('') //ios app
  }else{
    alert("。。。")
  }
}

</script>
<style>
	
</style>
<body>
   <h1>退出微信支付宝页面测试</h1>
   <input type="button" id="exit" value="退出啦" onclick="exit()">
   
</body>
</html>
